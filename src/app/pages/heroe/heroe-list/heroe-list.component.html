<main class="container mx-auto p-4">
	<div class="flex flex-col gap-6">

		<h1 class="text-3xl font-bold text-center text-gray-800 dark:text-gray-200 mb-4">Héros</h1>

		<div class="relative flex flex-col gap-4">

			@if (selectedHeroe && !isCreateHeroe || !selectedHeroe && isCreateHeroe) {
				<app-update-heroe
					id="updateHeroe"
					(heroeUpdated)="loadHeroes()"
					[heroe]="selectedHeroe">
				</app-update-heroe>
			}

			@if (!isCreateHeroe) {
				<button class="p-2 bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-600 text-white w-fit" (click)="toggleCreateHeroe()">Ajouter un héro</button>
			} @else {
				<button class="p-2 bg-red-700 rounded-lg cursor-pointer hover:bg-red-600 text-white w-fit" (click)="toggleCreateHeroe()">Annuler</button>
			}

			<div class="overflow-x-auto flex flex-col gap-10">

				<h2 class="text-center text-2xl">Héros Overwatch</h2>
				<table class="w-full table-auto">
					<thead>
						<tr>
							<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
								<div class="flex items-center px-2 py-1">
									<div class="flex-1 text-left font-normal">Nom</div>
								</div>
							</th>
							<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
								<div class="flex items-center px-2 py-1">
									<div class="flex-1 text-left font-normal">Role</div>
								</div>
							</th>
							<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
								<div class="flex items-center px-2 py-1">
									<div class="flex-1 text-left font-normal">Image</div>
								</div>
							</th>
							<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
								<div class="flex items-center px-2 py-1">
									<div class="flex-1 text-left font-normal">Actions</div>
								</div>
							</th>
						</tr>
					</thead>
					<tbody>
						@for (hero of heroesOverwatch; track hero.id){
							<tr class="hover:bg-gray-200 dark:hover:bg-gray-700">
								<td class="border-b p-3 dark:border-gray-900 text-center">
									{{ hero.name }}
								</td>
								<td class="border-b p-3 dark:border-gray-900 text-center">
									{{ hero.role }}
								</td>
								<td class="border-b p-3 dark:border-gray-900">
									<div class="flex flex-row items-center gap-2">
										<img [src]="minioBaseUrl + hero.imageKey" alt="Image de {{hero.name}}" class="w-16">
									</div>
								</td>
								<td class="p-3 flex flex-row gap-x-2">
									<button class="p-2 bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-600 text-white" (click)="selectHeroe(hero)">Modifier</button>
								</td>
							</tr>
						}
					</tbody>
				</table>

				<h2 class="text-center text-2xl">Héros Marvel Rivals</h2>
				<table class="w-full table-auto ">
					<thead>
					<tr>
						<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
							<div class="flex items-center px-2 py-1">
								<div class="flex-1 text-left font-normal">Nom</div>
							</div>
						</th>
						<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
							<div class="flex items-center px-2 py-1">
								<div class="flex-1 text-left font-normal">Role</div>
							</div>
						</th>
						<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
							<div class="flex items-center px-2 py-1">
								<div class="flex-1 text-left font-normal">Image</div>
							</div>
						</th>
						<th class="border-b border-t border-gray-900 bg-gray-900 text-white">
							<div class="flex items-center px-2 py-1">
								<div class="flex-1 text-left font-normal">Actions</div>
							</div>
						</th>
					</tr>
					</thead>
					<tbody>
						@for (hero of heroesMarvelRivals; track hero.id){
							<tr class="hover:bg-gray-200 dark:hover:bg-gray-700">
								<td class="border-b p-3 dark:border-gray-900 text-center">
									{{ hero.name }}
								</td>
								<td class="border-b p-3 dark:border-gray-900 text-center">
									{{ hero.role }}
								</td>
								<td class="border-b p-3 dark:border-gray-900">
									<div class="flex flex-row items-center gap-2">
										<img [src]="minioBaseUrl + hero.imageKey" alt="Image de {{hero.name}}" class="w-16">
									</div>
								</td>
								<td class="p-3 flex flex-row gap-x-2">
									<button class="p-2 bg-blue-700 rounded-lg cursor-pointer hover:bg-blue-600 text-white" (click)="selectHeroe(hero)">Modifier</button>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
		</div>

	</div>
</main>
