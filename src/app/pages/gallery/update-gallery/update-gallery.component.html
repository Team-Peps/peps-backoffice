<main class="container mx-auto p-4">
	<div class="relative flex flex-col gap-4">
		<form [formGroup]="galleryForm" class="my-12">
			<h2 class="text-center text-2xl mb-4">Ajout d'une galerie</h2>

			<div class="flex flex-col gap-4">

				<div class="flex flex-col md:flex-row gap-4">
					<div class="flex flex-col flex-1">
						<label for="eventNameFr">Nom de l'event (FR)</label>
						<input type="text" id="eventNameFr" formControlName="eventNameFr" class="p-2 border border-white rounded-lg" placeholder="Bootcamp avril 2025"/>
					</div>
					<div class="flex flex-col flex-1">
						<label for="eventNameEn">Nom de l'event (EN)</label>
						<input type="text" id="eventNameEn" formControlName="eventNameEn" class="p-2 border border-white rounded-lg" placeholder="Bootcamp april 2025"/>
					</div>
					<div class="flex flex-col flex-1">
						<label for="date">Date</label>
						<input type="date" id="date" formControlName="date" class="p-2 border border-white rounded-lg"/>
					</div>
				</div>

				<div class="flex flex-col md:flex-row gap-4">
					<div class="flex flex-col flex-1">
						<label for="descriptionFr">Description (FR) <span class="text-xs">(Limite de 500 caractères)</span></label>
						<textarea type="text" id="descriptionFr" formControlName="descriptionFr" class="p-2 border border-white rounded-lg" maxlength="500" placeholder="Le bootcamp d'avril vise à consolider la cohésion d'équipe !"></textarea>
					</div>
					<div class="flex flex-col flex-1">
						<label for="descriptionEn">Description (EN) <span class="text-xs">(Limite de 500 caractères)</span></label>
						<textarea type="text" id="descriptionEn" formControlName="descriptionEn" class="p-2 border border-white rounded-lg" maxlength="500" placeholder="The April bootcamp aims to consolidate team cohesion!"></textarea>
					</div>
					<button class="flex-1 p-2 border border-blue-500 w-full md:w-fit rounded-lg cursor-pointer h-fit hover:border-blue-600 text-white" (click)="handleUploadFile()">Ajouter une image</button>
				</div>

				<input type="file" id="fileInput" formControlName="image" (change)="onFileSelected($event)" [accept]="imageService.getAcceptedFormats()" hidden/>
				<div [innerHTML]="imageService.getImageRequirementHtml()"></div>
				@if (imagePreview) {
					<img [src]="imagePreview" class="w-24" alt="Aperçu">
				}

				<div class="flex flex-row justify-center">
					<button class="p-2 bg-green-700 w-full md:w-fit rounded-lg cursor-pointer hover:bg-green-600 text-white" (click)="saveOrUpdate()">Sauvegarder</button>
				</div>

			</div>

		</form>
	</div>
</main>
